{"version":3,"file":"utils.js","names":["message","getUrlParams","urlSearchParams","URLSearchParams","window","location","search","Object","fromEntries","entries","getPrimaryKey","columns","foundCol","find","col","primary","id","getTablePrimaryKey","tables","tableName","foundTable","table","name","errMsg","msg","err","console","error"],"sources":["../src/utils.ts"],"sourcesContent":["import { types } from '@db-man/github';\nimport { message } from 'antd';\nimport DbColumn from './types/DbColumn';\n\nexport const getUrlParams = () => {\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  return Object.fromEntries(urlSearchParams.entries());\n};\n\n/**\n *\n * @param {*} columns\n * @returns {string}\n */\nexport const getPrimaryKey = (columns: DbColumn[]) => {\n  const foundCol = columns.find((col) => col.primary);\n  return foundCol ? foundCol.id : '';\n};\n\nexport const getTablePrimaryKey = (\n  tables: types.DbTable[],\n  tableName: string\n) => {\n  const foundTable = tables.find((table) => table.name === tableName);\n  if (!foundTable) {\n    return '';\n  }\n\n  return getPrimaryKey(foundTable.columns);\n};\n\nexport const errMsg = (msg: string, err?: Error) => {\n  console.error(`[db-man] ${msg}`, err); // eslint-disable-line no-console\n  message.error(msg);\n};\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,MAAM;AAG9B,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAChC,MAAMC,eAAe,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;EACnE,OAAOC,MAAM,CAACC,WAAW,CAACN,eAAe,CAACO,OAAO,CAAC,CAAC,CAAC;AACtD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAIC,OAAmB,IAAK;EACpD,MAAMC,QAAQ,GAAGD,OAAO,CAACE,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAO,CAAC;EACnD,OAAOH,QAAQ,GAAGA,QAAQ,CAACI,EAAE,GAAG,EAAE;AACpC,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAGA,CAChCC,MAAuB,EACvBC,SAAiB,KACd;EACH,MAAMC,UAAU,GAAGF,MAAM,CAACL,IAAI,CAAEQ,KAAK,IAAKA,KAAK,CAACC,IAAI,KAAKH,SAAS,CAAC;EACnE,IAAI,CAACC,UAAU,EAAE;IACf,OAAO,EAAE;EACX;EAEA,OAAOV,aAAa,CAACU,UAAU,CAACT,OAAO,CAAC;AAC1C,CAAC;AAED,OAAO,MAAMY,MAAM,GAAGA,CAACC,GAAW,EAAEC,GAAW,KAAK;EAClDC,OAAO,CAACC,KAAK,CAAE,YAAWH,GAAI,EAAC,EAAEC,GAAG,CAAC,CAAC,CAAC;EACvCzB,OAAO,CAAC2B,KAAK,CAACH,GAAG,CAAC;AACpB,CAAC"}