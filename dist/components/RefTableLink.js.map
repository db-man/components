{"version":3,"file":"RefTableLink.js","names":["React","PropTypes","Link","columnType","tableType","getTablePrimaryKey","RefTableLink","dbName","tables","value","column","referenceTable","referenceTablePrimaryKey","createElement","to","propTypes","string","isRequired","arrayOf","oneOfType","defaultProps"],"sources":["../../src/components/RefTableLink.tsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport { columnType, tableType } from './types';\nimport { getTablePrimaryKey } from '../utils';\nimport DbTable from '../types/DbTable';\nimport DbColumn from '../types/DbColumn';\n\nfunction RefTableLink({\n  dbName,\n  tables,\n  value,\n  column,\n}: {\n  dbName: string;\n  tables: DbTable[];\n  value: string | string[] | null;\n  column: DbColumn;\n}) {\n  const { referenceTable } = column;\n  if (!referenceTable) {\n    return null;\n  }\n\n  const referenceTablePrimaryKey = getTablePrimaryKey(tables, referenceTable);\n  // TODO check existing, when exists then no Create button\n  return (\n    <span>\n      <Link\n        to={`/${dbName}/${referenceTable}/create?${referenceTablePrimaryKey}=${value}`}\n      >\n        Create\n      </Link>{' '}\n      |{' '}\n      <Link\n        to={`/${dbName}/${referenceTable}/update?${referenceTablePrimaryKey}=${value}`}\n      >\n        Update\n      </Link>\n      |{' '}\n      <Link\n        to={`/${dbName}/${referenceTable}/get?${referenceTablePrimaryKey}=${value}`}\n      >\n        Get\n      </Link>\n    </span>\n  );\n}\n\nexport default RefTableLink;\n\nRefTableLink.propTypes = {\n  dbName: PropTypes.string.isRequired,\n  tables: PropTypes.arrayOf(tableType).isRequired,\n  column: columnType.isRequired,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nRefTableLink.defaultProps = {\n  value: null,\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,SAASC,UAAU,EAAEC,SAAS,QAAQ,SAAS;AAC/C,SAASC,kBAAkB,QAAQ,UAAU;AAI7C,SAASC,YAAYA,CAAC;EACpBC,MAAM;EACNC,MAAM;EACNC,KAAK;EACLC;AAMF,CAAC,EAAE;EACD,MAAM;IAAEC;EAAe,CAAC,GAAGD,MAAM;EACjC,IAAI,CAACC,cAAc,EAAE;IACnB,OAAO,IAAI;EACb;EAEA,MAAMC,wBAAwB,GAAGP,kBAAkB,CAACG,MAAM,EAAEG,cAAc,CAAC;EAC3E;EACA,oBACEX,KAAA,CAAAa,aAAA,4BACEb,KAAA,CAAAa,aAAA,CAACX,IAAI;IACHY,EAAE,EAAG,IAAGP,MAAO,IAAGI,cAAe,WAAUC,wBAAyB,IAAGH,KAAM;EAAE,GAChF,QAEK,CAAC,EAAC,GAAG,EAAC,GACX,EAAC,GAAG,eACLT,KAAA,CAAAa,aAAA,CAACX,IAAI;IACHY,EAAE,EAAG,IAAGP,MAAO,IAAGI,cAAe,WAAUC,wBAAyB,IAAGH,KAAM;EAAE,GAChF,QAEK,CAAC,KACN,EAAC,GAAG,eACLT,KAAA,CAAAa,aAAA,CAACX,IAAI;IACHY,EAAE,EAAG,IAAGP,MAAO,IAAGI,cAAe,QAAOC,wBAAyB,IAAGH,KAAM;EAAE,GAC7E,KAEK,CACF,CAAC;AAEX;AAEA,eAAeH,YAAY;AAE3BA,YAAY,CAACS,SAAS,GAAG;EACvBR,MAAM,EAAEN,SAAS,CAACe,MAAM,CAACC,UAAU;EACnCT,MAAM,EAAEP,SAAS,CAACiB,OAAO,CAACd,SAAS,CAAC,CAACa,UAAU;EAC/CP,MAAM,EAAEP,UAAU,CAACc,UAAU;EAC7BR,KAAK,EAAER,SAAS,CAACkB,SAAS,CAAC,CACzBlB,SAAS,CAACe,MAAM,EAChBf,SAAS,CAACiB,OAAO,CAACjB,SAAS,CAACe,MAAM,CAAC,CACpC;AACH,CAAC;AAEDV,YAAY,CAACc,YAAY,GAAG;EAC1BX,KAAK,EAAE;AACT,CAAC"}