{"version":3,"file":"StringFormField.js","names":["React","useContext","PropTypes","Alert","columnType","StringFormFieldValue","RefTableLink","PageContext","dbs","PresetsButtons","StringFormField","props","label","column","value","inputProps","preview","onChange","dbName","renderWarning","createElement","message","type","className","tables","size","propTypes","string","isRequired","bool","shape","disabled","autoFocus","onKeyDown","func","defaultProps"],"sources":["../../src/components/StringFormField.tsx"],"sourcesContent":["// @ts-nocheck\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert } from 'antd';\n\nimport { columnType } from './types';\nimport StringFormFieldValue from './StringFormFieldValue';\nimport RefTableLink from './RefTableLink';\nimport PageContext from '../contexts/page';\nimport { dbs } from '../dbs';\nimport PresetsButtons from './PresetsButtons';\n\nexport default function StringFormField(props) {\n  const {\n    label, column, value, inputProps, preview, onChange,\n  } = props;\n  const { dbName } = useContext(PageContext);\n  const renderWarning = () => {\n    if (typeof value === 'string') return null;\n    return <Alert message={`(This form field type should be string, but current type is ${typeof value})`} type=\"warning\" />;\n  };\n  return (\n    <div className=\"dm-form-field dm-string-form-field\">\n      <b>{label}</b>\n      :\n      {' '}\n      <PresetsButtons column={column} onChange={onChange} />{' '}\n      <RefTableLink\n        column={column}\n        tables={dbs[dbName]}\n        dbName={dbName}\n        value={value}\n      />\n      {renderWarning()}\n      <StringFormFieldValue\n        inputProps={inputProps}\n        size=\"small\"\n        preview={preview}\n        value={value}\n        onChange={onChange}\n      />\n    </div>\n  );\n}\n\nStringFormField.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string,\n  preview: PropTypes.bool,\n  column: columnType.isRequired,\n  inputProps: PropTypes.shape({\n    disabled: PropTypes.bool,\n    autoFocus: PropTypes.bool,\n    onKeyDown: PropTypes.func,\n  }),\n  onChange: PropTypes.func.isRequired,\n};\n\nStringFormField.defaultProps = {\n  value: '',\n  preview: false,\n  // Props to pass directly to antd's Input component\n  inputProps: {\n    // disabled\n    // autoFocus\n    // onKeyDown\n  },\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,KAAK,QAAQ,MAAM;AAE5B,SAASC,UAAU,QAAQ,SAAS;AACpC,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,SAASC,GAAG,QAAQ,QAAQ;AAC5B,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,eAAe,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC7C,MAAM;IACJC,KAAK;IAAEC,MAAM;IAAEC,KAAK;IAAEC,UAAU;IAAEC,OAAO;IAAEC;EAC7C,CAAC,GAAGN,KAAK;EACT,MAAM;IAAEO;EAAO,CAAC,GAAGjB,UAAU,CAACM,WAAW,CAAC;EAC1C,MAAMY,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,OAAOL,KAAK,KAAK,QAAQ,EAAE,OAAO,IAAI;IAC1C,oBAAOd,KAAA,CAAAoB,aAAA,CAACjB,KAAK;MAACkB,OAAO,EAAG,+DAA8D,OAAOP,KAAM,GAAG;MAACQ,IAAI,EAAC;IAAS,CAAE,CAAC;EAC1H,CAAC;EACD,oBACEtB,KAAA,CAAAoB,aAAA;IAAKG,SAAS,EAAC;EAAoC,gBACjDvB,KAAA,CAAAoB,aAAA,YAAIR,KAAS,CAAC,KAEd,EAAC,GAAG,eACJZ,KAAA,CAAAoB,aAAA,CAACX,cAAc;IAACI,MAAM,EAAEA,MAAO;IAACI,QAAQ,EAAEA;EAAS,CAAE,CAAC,EAAC,GAAG,eAC1DjB,KAAA,CAAAoB,aAAA,CAACd,YAAY;IACXO,MAAM,EAAEA,MAAO;IACfW,MAAM,EAAEhB,GAAG,CAACU,MAAM,CAAE;IACpBA,MAAM,EAAEA,MAAO;IACfJ,KAAK,EAAEA;EAAM,CACd,CAAC,EACDK,aAAa,CAAC,CAAC,eAChBnB,KAAA,CAAAoB,aAAA,CAACf,oBAAoB;IACnBU,UAAU,EAAEA,UAAW;IACvBU,IAAI,EAAC,OAAO;IACZT,OAAO,EAAEA,OAAQ;IACjBF,KAAK,EAAEA,KAAM;IACbG,QAAQ,EAAEA;EAAS,CACpB,CACE,CAAC;AAEV;AAEAP,eAAe,CAACgB,SAAS,GAAG;EAC1Bd,KAAK,EAAEV,SAAS,CAACyB,MAAM,CAACC,UAAU;EAClCd,KAAK,EAAEZ,SAAS,CAACyB,MAAM;EACvBX,OAAO,EAAEd,SAAS,CAAC2B,IAAI;EACvBhB,MAAM,EAAET,UAAU,CAACwB,UAAU;EAC7Bb,UAAU,EAAEb,SAAS,CAAC4B,KAAK,CAAC;IAC1BC,QAAQ,EAAE7B,SAAS,CAAC2B,IAAI;IACxBG,SAAS,EAAE9B,SAAS,CAAC2B,IAAI;IACzBI,SAAS,EAAE/B,SAAS,CAACgC;EACvB,CAAC,CAAC;EACFjB,QAAQ,EAAEf,SAAS,CAACgC,IAAI,CAACN;AAC3B,CAAC;AAEDlB,eAAe,CAACyB,YAAY,GAAG;EAC7BrB,KAAK,EAAE,EAAE;EACTE,OAAO,EAAE,KAAK;EACd;EACAD,UAAU,EAAE;IACV;IACA;IACA;EAAA;AAEJ,CAAC"}