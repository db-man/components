{"version":3,"file":"TableConfigPage.js","names":["React","useContext","Table","Tabs","PageContext","ReactSimpleCodeEditor","DB_CFG_FILENAME","columns","key","dataIndex","title","render","cell","join","JSON","stringify","footer","dbName","TableFooter","createElement","href","localStorage","getItem","target","rel","TableConfigPage","dbTableColumns","items","label","children","rowKey","dataSource","pagination","value","onChange","className","defaultActiveKey"],"sources":["../../src/components/TableConfigPage.tsx"],"sourcesContent":["/* eslint-disable react/prop-types */\n\nimport React, { useContext } from 'react';\nimport { Table, Tabs } from 'antd';\nimport type { TabsProps } from 'antd';\n\nimport PageContext from '../contexts/page';\nimport ReactSimpleCodeEditor from './ReactSimpleCodeEditor';\nimport { DB_CFG_FILENAME } from '../constants';\n\nconst columns = [\n  {\n    key: 'id',\n    dataIndex: 'id',\n    title: 'ID',\n  },\n  {\n    key: 'name',\n    dataIndex: 'name',\n    title: 'Name',\n  },\n  {\n    key: 'type',\n    dataIndex: 'type',\n    title: 'Type',\n  },\n  {\n    key: 'placeholder',\n    dataIndex: 'placeholder',\n    title: 'placeholder',\n  },\n  {\n    key: 'primary',\n    dataIndex: 'primary',\n    title: 'primary',\n    render: (cell: boolean) => (cell === true ? 'Yes' : 'No'),\n  },\n  {\n    key: 'enum',\n    dataIndex: 'enum',\n    title: 'enum',\n    render: (cell: string[]) => {\n      if (!cell) return 'None';\n      return cell.join(', ');\n    },\n  },\n  {\n    key: 'type:createUpdatePage',\n    dataIndex: 'type:createUpdatePage',\n    title: 'type:createUpdatePage',\n  },\n  {\n    key: 'type:getPage',\n    dataIndex: 'type:getPage',\n    title: 'type:getPage',\n    render: (cell: object) => {\n      if (typeof cell === 'object') return JSON.stringify(cell);\n      return cell;\n    },\n  },\n  {\n    key: 'type:randomPage',\n    dataIndex: 'type:randomPage',\n    title: 'type:randomPage',\n    render: (cell: object) => {\n      if (typeof cell === 'object') return JSON.stringify(cell);\n      return cell;\n    },\n  },\n  {\n    key: 'isListPageImageViewKey',\n    dataIndex: 'isListPageImageViewKey',\n    title: 'isListPageImageViewKey',\n    render: (cell: boolean) => (cell === true ? 'Yes' : 'No'),\n  },\n];\n\nconst footer = ({ dbName }: { dbName: string }) =>\n  function TableFooter() {\n    return (\n      <div>\n        Table column definition:{' '}\n        <a\n          href={`https://github.com/${localStorage.getItem(\n            'dm_github_owner'\n          )}/${localStorage.getItem(\n            'dm_github_repo_name'\n          )}/blob/main/${localStorage.getItem(\n            'dm_github_repo_path'\n          )}/${dbName}/${DB_CFG_FILENAME}`}\n          target='_blank'\n          rel='noreferrer'\n        >\n          {DB_CFG_FILENAME}\n        </a>\n      </div>\n    );\n  };\n\nexport default function TableConfigPage() {\n  const { dbName, columns: dbTableColumns } = useContext(PageContext);\n\n  const items: TabsProps['items'] = [\n    {\n      key: 'table',\n      label: 'Table',\n      children: (\n        <div>\n          <Table\n            rowKey='id'\n            dataSource={dbTableColumns}\n            columns={columns}\n            pagination={false}\n            footer={footer({ dbName })}\n          />\n        </div>\n      ),\n    },\n    {\n      key: 'json',\n      label: 'JSON',\n      children: (\n        <ReactSimpleCodeEditor\n          value={JSON.stringify(dbTableColumns, null, '  ')}\n          onChange={() => {}}\n        />\n      ),\n    },\n  ];\n\n  return (\n    <div className='table-config-page'>\n      <Tabs defaultActiveKey='table' items={items} />\n    </div>\n  );\n}\n"],"mappings":"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"}