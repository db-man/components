{"version":3,"file":"FieldWrapperForDetailPage.js","names":["React","useContext","PropTypes","RefTableLink","PageContext","columnType","constants","useAppContext","FieldWrapperForDetailPage","column","value","children","dbName","dbs","typeClassName","type","STRING_ARRAY","createElement","className","JSON","stringify","name","id","length","referenceTable","tables","propTypes","isRequired","oneOfType","number","bool","string","arrayOf","node","defaultProps"],"sources":["../../src/components/FieldWrapperForDetailPage.tsx"],"sourcesContent":["import React, { ReactNode, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport RefTableLink from './RefTableLink';\nimport PageContext from '../contexts/page';\n\nimport { columnType } from './types';\nimport * as constants from '../constants';\nimport Column from '../types/Column';\nimport { useAppContext } from '../contexts/AppContext';\n\ninterface FieldWrapperProps {\n  column: Column;\n  value: number | boolean | string | string[];\n  children: ReactNode;\n}\n\n/**\n * Form field wrapper for detail page\n * TODO When value is an array, how to render RefTableLink\n */\nconst FieldWrapperForDetailPage = ({\n  column,\n  value,\n  children,\n}: FieldWrapperProps) => {\n  const { dbName } = useContext(PageContext);\n  const { dbs } = useAppContext();\n  const typeClassName =\n    column.type === constants.STRING_ARRAY\n      ? 'dm-string-array-form-field'\n      : 'dm-string-form-field';\n  return (\n    <div\n      // key={column.id}\n      className={`dm-form-field ${typeClassName}`}\n      data-debug={JSON.stringify(column)}\n    >\n      <div className='dm-field-label'>\n        <b>\n          {column.name} (<code>{column.id}</code>)\n          {column.type === constants.STRING_ARRAY\n            ? ` (count:${value ? (value as string[]).length : 0})`\n            : null}\n        </b>\n        :{' '}\n        {column.referenceTable && typeof value === 'string' && (\n          <RefTableLink\n            dbName={dbName}\n            tables={dbs[dbName]}\n            value={value}\n            column={column}\n          />\n        )}\n      </div>\n      {children}\n    </div>\n  );\n};\n\nFieldWrapperForDetailPage.propTypes = {\n  column: columnType.isRequired,\n  value: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.node,\n};\nFieldWrapperForDetailPage.defaultProps = {\n  value: '',\n  children: null,\n};\n\nexport default FieldWrapperForDetailPage;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAeC,UAAU,QAAQ,OAAO;AACpD,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,WAAW,MAAM,kBAAkB;AAE1C,SAASC,UAAU,QAAQ,SAAS;AACpC,OAAO,KAAKC,SAAS,MAAM,cAAc;AAEzC,SAASC,aAAa,QAAQ,wBAAwB;AAQtD;AACA;AACA;AACA;AACA,MAAMC,yBAAyB,GAAGA,CAAC;EACjCC,MAAM;EACNC,KAAK;EACLC;AACiB,CAAC,KAAK;EACvB,MAAM;IAAEC;EAAO,CAAC,GAAGX,UAAU,CAACG,WAAW,CAAC;EAC1C,MAAM;IAAES;EAAI,CAAC,GAAGN,aAAa,CAAC,CAAC;EAC/B,MAAMO,aAAa,GACjBL,MAAM,CAACM,IAAI,KAAKT,SAAS,CAACU,YAAY,GAClC,4BAA4B,GAC5B,sBAAsB;EAC5B,oBACEhB,KAAA,CAAAiB,aAAA;IACE;IACAC,SAAS,EAAG,iBAAgBJ,aAAc,EAAE;IAC5C,cAAYK,IAAI,CAACC,SAAS,CAACX,MAAM;EAAE,gBAEnCT,KAAA,CAAAiB,aAAA;IAAKC,SAAS,EAAC;EAAgB,gBAC7BlB,KAAA,CAAAiB,aAAA,YACGR,MAAM,CAACY,IAAI,EAAC,IAAE,eAAArB,KAAA,CAAAiB,aAAA,eAAOR,MAAM,CAACa,EAAS,CAAC,KACvC,EAACb,MAAM,CAACM,IAAI,KAAKT,SAAS,CAACU,YAAY,GAClC,WAAUN,KAAK,GAAIA,KAAK,CAAca,MAAM,GAAG,CAAE,GAAE,GACpD,IACH,CAAC,KACH,EAAC,GAAG,EACJd,MAAM,CAACe,cAAc,IAAI,OAAOd,KAAK,KAAK,QAAQ,iBACjDV,KAAA,CAAAiB,aAAA,CAACd,YAAY;IACXS,MAAM,EAAEA,MAAO;IACfa,MAAM,EAAEZ,GAAG,CAACD,MAAM,CAAE;IACpBF,KAAK,EAAEA,KAAM;IACbD,MAAM,EAAEA;EAAO,CAChB,CAEA,CAAC,EACLE,QACE,CAAC;AAEV,CAAC;AAEDH,yBAAyB,CAACkB,SAAS,GAAG;EACpCjB,MAAM,EAAEJ,UAAU,CAACsB,UAAU;EAC7BjB,KAAK,EAAER,SAAS,CAAC0B,SAAS,CAAC,CACzB1B,SAAS,CAAC2B,MAAM,EAChB3B,SAAS,CAAC4B,IAAI,EACd5B,SAAS,CAAC6B,MAAM,EAChB7B,SAAS,CAAC8B,OAAO,CAAC9B,SAAS,CAAC6B,MAAM,CAAC,CACpC,CAAC;EACFpB,QAAQ,EAAET,SAAS,CAAC+B;AACtB,CAAC;AACDzB,yBAAyB,CAAC0B,YAAY,GAAG;EACvCxB,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE;AACZ,CAAC;AAED,eAAeH,yBAAyB"}