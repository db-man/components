{"version":3,"file":"LeftSideMenu.js","names":["React","useState","PropTypes","Link","Menu","UserOutlined","useAppContext","LeftSideMenu","dbName","tableName","action","dbs","openKeys","setOpenKeys","table","find","name","handleOpenChange","keys","createElement","mode","selectedKeys","style","height","borderRight","onOpenChange","items","map","tName","key","label","icon","children","to","propTypes","string","isRequired","defaultProps"],"sources":["../../src/components/LeftSideMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Menu } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport Databases from '../types/Databases';\nimport { useAppContext } from '../contexts/AppContext';\n\ninterface LeftSideMenuProps {\n  dbName: string;\n  tableName: string;\n  action?: string;\n}\n\nconst LeftSideMenu: React.FC<LeftSideMenuProps> = ({\n  dbName,\n  tableName,\n  action,\n}) => {\n  const { dbs }: { dbs: Databases } = useAppContext();\n\n  const [openKeys, setOpenKeys] = useState<string[]>(() => {\n    // if table name not exist, then collapse all menus\n    // if table name exist, then expand the menu of this table\n    const table = dbs[dbName].find(({ name }) => name === tableName);\n    if (!table) {\n      return [];\n    }\n    return [table.name];\n  });\n\n  const handleOpenChange = (keys: string[]) => {\n    setOpenKeys(keys);\n  };\n\n  return (\n    <Menu\n      mode='inline'\n      selectedKeys={[`${dbName}-${tableName}-${action}`]}\n      openKeys={openKeys}\n      style={{ height: '100%', borderRight: 0 }}\n      onOpenChange={handleOpenChange}\n      items={dbs[dbName].map(({ name: tName }) => ({\n        key: tName,\n        label: tName,\n        icon: <UserOutlined />,\n        children: [\n          {\n            key: `${dbName}-${tName}-list`,\n            label: <Link to={`/${dbName}/${tName}/list`}>List</Link>,\n          },\n          {\n            key: `${dbName}-${tName}-create`,\n            label: <Link to={`/${dbName}/${tName}/create`}>Create</Link>,\n          },\n          {\n            key: `${dbName}-${tName}-random`,\n            label: <Link to={`/${dbName}/${tName}/random`}>Random</Link>,\n          },\n          {\n            key: `${dbName}-${tName}-tagsCloud`,\n            label: <Link to={`/${dbName}/${tName}/tagsCloud`}>tagsCloud</Link>,\n          },\n          {\n            key: `${dbName}-${tName}-tableConfig`,\n            label: (\n              <Link to={`/${dbName}/${tName}/tableConfig`}>tableConfig</Link>\n            ),\n          },\n          {\n            key: `${dbName}-${tName}-query`,\n            label: <Link to={`/${dbName}/${tName}/query`}>Query</Link>,\n          },\n        ],\n      }))}\n    />\n  );\n};\n\nLeftSideMenu.propTypes = {\n  dbName: PropTypes.string.isRequired,\n  tableName: PropTypes.string.isRequired,\n  action: PropTypes.string,\n};\n\nLeftSideMenu.defaultProps = {\n  tableName: '',\n  action: '',\n};\n\nexport default LeftSideMenu;\n"],"mappings":"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"}