{"version":3,"file":"DbConnections.js","names":["React","GithubDb","constants","reloadDbsSchemaAsync","EditableTable","DbConnections","Component","constructor","args","_defineProperty","storage","props","githubDb","personalAccessToken","get","LS_KEY_GITHUB_PERSONAL_ACCESS_TOKEN","repoPath","LS_KEY_GITHUB_REPO_PATH","owner","LS_KEY_GITHUB_OWNER","repoName","LS_KEY_GITHUB_REPO_NAME","dbsSchema","LS_KEY_DBS_SCHEMA","github","then","handleLoadDbsClick","render","createElement","className","onEnable","handleDbConnectionEnable"],"sources":["../../src/components/DbConnections.tsx"],"sourcesContent":["// @ts-nocheck\n\nimport React from 'react';\n\nimport { GithubDb } from '@db-man/github';\nimport * as constants from '../constants';\nimport reloadDbsSchemaAsync from '../pages/helpers';\nimport EditableTable from './EditableTable';\n\n/**\n * To save online db tables schema in the local db, then pages could load faster\n */\nexport default class DbConnections extends React.Component {\n  handleLoadDbsClick = () => {\n    const { storage } = this.props;\n    const githubDb = new GithubDb({\n      personalAccessToken: storage.get(constants.LS_KEY_GITHUB_PERSONAL_ACCESS_TOKEN),\n      repoPath: storage.get(constants.LS_KEY_GITHUB_REPO_PATH),\n      owner: storage.get(constants.LS_KEY_GITHUB_OWNER),\n      repoName: storage.get(constants.LS_KEY_GITHUB_REPO_NAME),\n      dbsSchema: storage.get(constants.LS_KEY_DBS_SCHEMA),\n    });\n    const { github } = githubDb;\n    reloadDbsSchemaAsync(github, githubDb).then(() => {\n    });\n  };\n\n  handleDbConnectionEnable = () => {\n    this.handleLoadDbsClick();\n  };\n\n  render() {\n    const { storage } = this.props;\n    return (\n      <div className=\"dm-db-connections\">\n        <h2>Database Connections</h2>\n        <EditableTable\n          storage={storage}\n          onEnable={this.handleDbConnectionEnable}\n        />\n      </div>\n    );\n  }\n}\n"],"mappings":";;;AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,OAAO,KAAKC,SAAS,MAAM,cAAc;AACzC,OAAOC,oBAAoB,MAAM,kBAAkB;AACnD,OAAOC,aAAa,MAAM,iBAAiB;;AAE3C;AACA;AACA;AACA,eAAe,MAAMC,aAAa,SAASL,KAAK,CAACM,SAAS,CAAC;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,eAAA,6BACpC,MAAM;MACzB,MAAM;QAAEC;MAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;MAC9B,MAAMC,QAAQ,GAAG,IAAIX,QAAQ,CAAC;QAC5BY,mBAAmB,EAAEH,OAAO,CAACI,GAAG,CAACZ,SAAS,CAACa,mCAAmC,CAAC;QAC/EC,QAAQ,EAAEN,OAAO,CAACI,GAAG,CAACZ,SAAS,CAACe,uBAAuB,CAAC;QACxDC,KAAK,EAAER,OAAO,CAACI,GAAG,CAACZ,SAAS,CAACiB,mBAAmB,CAAC;QACjDC,QAAQ,EAAEV,OAAO,CAACI,GAAG,CAACZ,SAAS,CAACmB,uBAAuB,CAAC;QACxDC,SAAS,EAAEZ,OAAO,CAACI,GAAG,CAACZ,SAAS,CAACqB,iBAAiB;MACpD,CAAC,CAAC;MACF,MAAM;QAAEC;MAAO,CAAC,GAAGZ,QAAQ;MAC3BT,oBAAoB,CAACqB,MAAM,EAAEZ,QAAQ,CAAC,CAACa,IAAI,CAAC,MAAM,CAClD,CAAC,CAAC;IACJ,CAAC;IAAAhB,eAAA,mCAE0B,MAAM;MAC/B,IAAI,CAACiB,kBAAkB,CAAC,CAAC;IAC3B,CAAC;EAAA;EAEDC,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEjB;IAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;IAC9B,oBACEX,KAAA,CAAA4B,aAAA;MAAKC,SAAS,EAAC;IAAmB,gBAChC7B,KAAA,CAAA4B,aAAA,aAAI,sBAAwB,CAAC,eAC7B5B,KAAA,CAAA4B,aAAA,CAACxB,aAAa;MACZM,OAAO,EAAEA,OAAQ;MACjBoB,QAAQ,EAAE,IAAI,CAACC;IAAyB,CACzC,CACE,CAAC;EAEV;AACF"}