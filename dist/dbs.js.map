{"version":3,"file":"dbs.js","names":["LS_KEY_DBS_SCHEMA","dbs","JSON","parse","localStorage","getItem","getDbs","getTablesByDbName","dbName","keyVal","dbs2","setDbs","val","setItem","getTable","tableName","find","name","isLargeTable","table","large"],"sources":["../src/dbs.ts"],"sourcesContent":["// @ts-nocheck\n\nimport { LS_KEY_DBS_SCHEMA } from './constants';\n\n/**\n * ```json\n * {\n *   \"iam\": [\n *     {\"name\": \"users\", \"large\": true},\n *     {\"name\": \"roles\"}\n *   ]\n * }\n * ```\n */\nexport const dbs = JSON.parse(localStorage.getItem(LS_KEY_DBS_SCHEMA));\n\nexport const getDbs = () => JSON.parse(localStorage.getItem(LS_KEY_DBS_SCHEMA));\nexport const getTablesByDbName = (dbName) => {\n  const keyVal = localStorage.getItem(LS_KEY_DBS_SCHEMA);\n  if (!keyVal) return [];\n  const dbs2 = JSON.parse(localStorage.getItem(LS_KEY_DBS_SCHEMA));\n  return dbs2[dbName] || [];\n};\n\nexport const setDbs = (val) => (localStorage.setItem(LS_KEY_DBS_SCHEMA, val));\n\nexport const getTable = (dbName, tableName) => {\n  if (!dbs) return null;\n  return dbs[dbName].find(({ name }) => name === tableName);\n};\n\nexport const isLargeTable = (dbName, tableName) => {\n  const table = getTable(dbName, tableName);\n  if (!table) return false;\n  return table.large;\n};\n"],"mappings":"AAAA;;AAEA,SAASA,iBAAiB,QAAQ,aAAa;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,iBAAiB,CAAC,CAAC;AAEtE,OAAO,MAAMM,MAAM,GAAGA,CAAA,KAAMJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,iBAAiB,CAAC,CAAC;AAC/E,OAAO,MAAMO,iBAAiB,GAAIC,MAAM,IAAK;EAC3C,MAAMC,MAAM,GAAGL,YAAY,CAACC,OAAO,CAACL,iBAAiB,CAAC;EACtD,IAAI,CAACS,MAAM,EAAE,OAAO,EAAE;EACtB,MAAMC,IAAI,GAAGR,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,iBAAiB,CAAC,CAAC;EAChE,OAAOU,IAAI,CAACF,MAAM,CAAC,IAAI,EAAE;AAC3B,CAAC;AAED,OAAO,MAAMG,MAAM,GAAIC,GAAG,IAAMR,YAAY,CAACS,OAAO,CAACb,iBAAiB,EAAEY,GAAG,CAAE;AAE7E,OAAO,MAAME,QAAQ,GAAGA,CAACN,MAAM,EAAEO,SAAS,KAAK;EAC7C,IAAI,CAACd,GAAG,EAAE,OAAO,IAAI;EACrB,OAAOA,GAAG,CAACO,MAAM,CAAC,CAACQ,IAAI,CAAC,CAAC;IAAEC;EAAK,CAAC,KAAKA,IAAI,KAAKF,SAAS,CAAC;AAC3D,CAAC;AAED,OAAO,MAAMG,YAAY,GAAGA,CAACV,MAAM,EAAEO,SAAS,KAAK;EACjD,MAAMI,KAAK,GAAGL,QAAQ,CAACN,MAAM,EAAEO,SAAS,CAAC;EACzC,IAAI,CAACI,KAAK,EAAE,OAAO,KAAK;EACxB,OAAOA,KAAK,CAACC,KAAK;AACpB,CAAC"}